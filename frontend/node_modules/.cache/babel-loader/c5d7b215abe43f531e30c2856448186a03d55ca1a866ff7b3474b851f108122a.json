{"ast":null,"code":"import _regeneratorRuntime from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{Alert,Spinner}from'react-bootstrap';import ChessBG from'../../assets/chess_bg_1.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require('../Utils/Config'),SERVER_URL=_require.SERVER_URL;function ResetPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsLoading(true);_context.prev=2;_context.next=5;return axios.post(\"\".concat(SERVER_URL,\"/u/resetPassword\"),{email:email});case 5:setIsLoading(false);setMessage('Mail for reseting your password has been sent to you. Plaese check your mails and make sure to check spam folder');setError('');_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);if(_context.t0.response&&_context.t0.response.data)setError(_context.t0.response.data.error);setIsLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(ChessBG,\")\"),height:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-lg-3 login-form\",children:[message!==''&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:message}),error!==''&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"LoginButton\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isLoading,children:\"Reset Password\"})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"LoginSpinner\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})})]})]})]})});}export default ResetPassword;","map":{"version":3,"names":["React","useState","axios","Alert","Spinner","ChessBG","jsx","_jsx","jsxs","_jsxs","_require","require","SERVER_URL","ResetPassword","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","error","setError","_useState5","_useState6","message","setMessage","_useState7","_useState8","isLoading","setIsLoading","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","post","concat","t0","response","data","stop","_x","apply","arguments","style","backgroundImage","height","children","className","variant","onSubmit","htmlFor","type","id","placeholder","onChange","target","value","disabled","animation"],"sources":["/home/mushrambo/projects/eks-chess/chess-front-end/src/components/Auth/ResetPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Alert, Spinner } from 'react-bootstrap';\nimport ChessBG from '../../assets/chess_bg_1.jpg';\nconst { SERVER_URL } = require('../Utils/Config');\n\nfunction ResetPassword() {\n    const [email, setEmail] = useState('');\n    const [error, setError] = useState('');\n    const [message, setMessage] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n        try {\n            await axios.post(`${SERVER_URL}/u/resetPassword`, { email: email });\n            setIsLoading(false);\n            setMessage(\n                'Mail for reseting your password has been sent to you. Plaese check your mails and make sure to check spam folder'\n            );\n            setError('');\n        } catch (error) {\n            if (error.response && error.response.data) setError(error.response.data.error);\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div style={{ backgroundImage: `url(${ChessBG})`, height: '100%' }}>\n            <div className='card col-lg-3 login-form'>\n                {message !== '' && <Alert variant='success'>{message}</Alert>}\n                {error !== '' && <Alert variant='danger'>{error}</Alert>}\n                <form onSubmit={handleSubmit}>\n                    <div className='form-group'>\n                        <label htmlFor='email'>Email Address</label>\n                        <input\n                            type='email'\n                            className='form-control'\n                            id='email'\n                            aria-describedby='emailHelp'\n                            placeholder='Enter Email'\n                            onChange={(e) => setEmail(e.target.value)}\n                        />\n                    </div>\n                    <div className='LoginButton'>\n                        <div>\n                            <button type='submit' className='btn btn-primary' disabled={isLoading}>\n                                Reset Password\n                            </button>\n                        </div>\n                        {isLoading && (\n                            <div className='LoginSpinner'>\n                                <Spinner animation='border' variant='primary' />\n                            </div>\n                        )}\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default ResetPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}