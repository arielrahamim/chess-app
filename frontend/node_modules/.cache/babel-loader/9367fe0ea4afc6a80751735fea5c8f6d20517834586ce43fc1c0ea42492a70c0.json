{"ast":null,"code":"import _regeneratorRuntime from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mushrambo/projects/eks-chess/chess-front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{Alert,Spinner}from'react-bootstrap';import{Link}from'react-router-dom';import ChessBG from'../../assets/chess_bg_1.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require('../Utils/Config'),SERVER_URL=_require.SERVER_URL;function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),successMessage=_useState12[0],setSuccessMessage=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isLoading=_useState14[0],setIsLoading=_useState14[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsLoading(true);_context.prev=2;_context.next=5;return axios.post(\"\".concat(SERVER_URL,\"/u/register\"),{email:email,username:username,password:password,confirmPassword:confirmPassword});case 5:setError('');setSuccessMessage('Registered successfully. Please Confirm your email address. Confirmation mail is sent to your email address. Make sure to check your spam folder.');setIsLoading(false);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setError(_context.t0.response.data.error);setIsLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(ChessBG,\")\"),height:'100%'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-lg-3 register-form\",children:[successMessage!==''&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:successMessage}),error!==''&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",placeholder:\"Enter Username\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",placeholder:\"Enter Email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"confirmPassword\",placeholder:\"Confirm Password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"RegisterButton\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isLoading,children:\"Register\"})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"RegisterSpinner\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","axios","Alert","Spinner","Link","ChessBG","jsx","_jsx","jsxs","_jsxs","_require","require","SERVER_URL","Register","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","_useState9","_useState10","error","setError","_useState11","_useState12","successMessage","setSuccessMessage","_useState13","_useState14","isLoading","setIsLoading","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","post","concat","t0","response","data","stop","_x","apply","arguments","style","backgroundImage","height","children","className","variant","onSubmit","htmlFor","type","id","placeholder","onChange","target","value","disabled","animation","to"],"sources":["/home/mushrambo/projects/eks-chess/chess-front-end/src/components/Auth/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Alert, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport ChessBG from '../../assets/chess_bg_1.jpg';\nconst { SERVER_URL } = require('../Utils/Config');\n\nfunction Register() {\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [error, setError] = useState('');\n    const [successMessage, setSuccessMessage] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n        try {\n            await axios.post(`${SERVER_URL}/u/register`, {\n                email: email,\n                username: username,\n                password: password,\n                confirmPassword: confirmPassword,\n            });\n            setError('');\n            setSuccessMessage(\n                'Registered successfully. Please Confirm your email address. Confirmation mail is sent to your email address. Make sure to check your spam folder.'\n            );\n            setIsLoading(false);\n        } catch (error) {\n            setError(error.response.data.error);\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div style={{ backgroundImage: `url(${ChessBG})`, height: '100%' }}>\n            <div className='card col-lg-3 register-form'>\n                {successMessage !== '' && <Alert variant='success'>{successMessage}</Alert>}\n                {error !== '' && <Alert variant='danger'>{error}</Alert>}\n                <form onSubmit={handleSubmit}>\n                    <div className='form-group'>\n                        <label htmlFor='username'>Username</label>\n                        <input\n                            type='text'\n                            className='form-control'\n                            id='username'\n                            placeholder='Enter Username'\n                            onChange={(e) => setUsername(e.target.value)}\n                        />\n                    </div>\n                    <div className='form-group'>\n                        <label htmlFor='email'>Email Address</label>\n                        <input\n                            type='email'\n                            className='form-control'\n                            id='email'\n                            placeholder='Enter Email'\n                            onChange={(e) => setEmail(e.target.value)}\n                        />\n                    </div>\n                    <div className='form-group'>\n                        <label htmlFor='password'>Password</label>\n                        <input\n                            type='password'\n                            className='form-control'\n                            id='password'\n                            placeholder='Password'\n                            onChange={(e) => setPassword(e.target.value)}\n                        />\n                    </div>\n                    <div className='form-group'>\n                        <label htmlFor='confirmPassword'>Confirm Password</label>\n                        <input\n                            type='password'\n                            className='form-control'\n                            id='confirmPassword'\n                            placeholder='Confirm Password'\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                        />\n                    </div>\n                    <div className='RegisterButton'>\n                        <div>\n                            <button type='submit' className='btn btn-primary' disabled={isLoading}>\n                                Register\n                            </button>\n                        </div>\n                        {isLoading && (\n                            <div className='RegisterSpinner'>\n                                <Spinner animation='border' variant='primary' />\n                            </div>\n                        )}\n                    </div>\n\n                    <div>\n                        Already have an account? <Link to='/login'>Login</Link>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}